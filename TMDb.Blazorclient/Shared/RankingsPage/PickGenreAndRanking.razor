<link href="css/custom/genreAndRanking.css" rel="stylesheet" />   

 @* Genre Picker *@
<Form hidden="@hideGenrePicker">
    <div class="row">
        @foreach (GenresEnum genreValue in Enum.GetValues(typeof(GenresEnum)))
        {

            <div class="col-6 col-sm-4 mb-2">
                <div class="card d-inline-flex p-2 h-100 align-items-center">
                    <img class="card-img-top" src="@($"/GenresImgs/{genreValue}.jpg")" />
                    
                    <div class="card-body">
                        <Button @onclick="() => PickGenre(genreValue)" ><h1>@genreValue</h1></Button>
                    </div>
                </div>
            </div>
            
        }
        </div>
    
    <p>@Genre</p>
</Form>

@* Ranking Picker *@
<Form hidden="@hideRankingPicker">
    <div class="row">
        @foreach (RankingsEnum rankingValue in Enum.GetValues(typeof(RankingsEnum)))
        {
            
            
            <div class="col-6 col-sm-4 mb-2">
                <div class="card d-inline-flex p-2 h-100 align-items-center">
                    
                    <div class="card-body">
                        <Button @onclick="() => PickRanking(rankingValue)" >@rankingValue</Button>
                    </div>
                </div>
            </div>

        }
    </div>
    
    <p>@Ranking</p>
</Form>


@code {
    [Inject]
    private NavigationManager Navigation { get; set; }

    private bool hideGenrePicker = false;
    private bool hideRankingPicker = true;

    private GenresEnum genre;
    [Parameter]
    public GenresEnum Genre 
    {
        get => genre;
        set
        {
            hideGenrePicker = true;
            genre = value;
        }
    }

    public RankingsEnum Ranking { get; set; }

    private void PickGenre(GenresEnum genreValue)
    {
        Genre = genreValue;
        hideRankingPicker = false;
    }

    private void PickRanking(RankingsEnum rankingValue)
    {
        Ranking = rankingValue;

        Navigation.NavigateTo($"{Navigation.BaseUri}movies/{Genre}/{Ranking}");
    }

}
